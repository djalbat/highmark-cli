"use strict";
var liveReloadSnippet = require("lively-cli").liveReloadSnippet, _require = require("highmark-fonts"), computerModernStyleCSS = _require.computerModernStyle, _require1 = require("necessary"), pathUtilities = _require1.pathUtilities, templateUtilities = _require1.templateUtilities, fileSystemUtilities = _require1.fileSystemUtilities;
var getSourceDirectoryPath = require("./utilities/directory").getSourceDirectoryPath, _require2 = require("./constants"), LOADING_CSS_FILE_PATH = _require2.LOADING_CSS_FILE_PATH, CLIENT_TEMPLATE_FILE_PATH = _require2.CLIENT_TEMPLATE_FILE_PATH, LOADING_TEMPLATE_FILE_PATH = _require2.LOADING_TEMPLATE_FILE_PATH, INDEX_TEMPLATE_FILE_PATH = _require2.INDEX_TEMPLATE_FILE_PATH;
var readFile = fileSystemUtilities.readFile, parseFile = templateUtilities.parseFile, concatenatePaths = pathUtilities.concatenatePaths;
function createIndexHTML(markdownHTML, markdownStylesCSS, client) {
    var sourceDirectoryPath = getSourceDirectoryPath(), indexTemplateFilePath = concatenatePaths(sourceDirectoryPath, INDEX_TEMPLATE_FILE_PATH), args = {
        markdownHTML: markdownHTML,
        markdownStylesCSS: markdownStylesCSS,
        liveReloadSnippet: liveReloadSnippet,
        computerModernStyleCSS: computerModernStyleCSS
    };
    if (client) {
        var clientHTML = createClientHTML(sourceDirectoryPath), loadingCSS = createLoadingCSS(sourceDirectoryPath), loadingHTML = createLoadingHTML(sourceDirectoryPath);
        Object.assign(args, {
            clientHTML: clientHTML,
            loadingCSS: loadingCSS,
            loadingHTML: loadingHTML
        });
    }
    var indexHTML = parseFile(indexTemplateFilePath, args);
    return indexHTML;
}
module.exports = createIndexHTML;
function createClientHTML(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, CLIENT_TEMPLATE_FILE_PATH), content = parseFile(filePath), clientHTML = content; ///
    return clientHTML;
}
function createLoadingCSS(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, LOADING_CSS_FILE_PATH), content = readFile(filePath), loadingCSS = content; ///
    return loadingCSS;
}
function createLoadingHTML(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, LOADING_TEMPLATE_FILE_PATH), content = readFile(filePath), loadingHTML = content; ///
    return loadingHTML;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvaHRtbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgeyBsaXZlUmVsb2FkU25pcHBldCB9ID0gcmVxdWlyZShcImxpdmVseS1jbGlcIiksXG4gICAgICB7IGNvbXB1dGVyTW9kZXJuU3R5bGU6IGNvbXB1dGVyTW9kZXJuU3R5bGVDU1MgfSA9IHJlcXVpcmUoXCJoaWdobWFyay1mb250c1wiKSxcbiAgICAgIHsgcGF0aFV0aWxpdGllcywgdGVtcGxhdGVVdGlsaXRpZXMsIGZpbGVTeXN0ZW1VdGlsaXRpZXMgfSA9IHJlcXVpcmUoXCJuZWNlc3NhcnlcIik7XG5cbmNvbnN0IHsgZ2V0U291cmNlRGlyZWN0b3J5UGF0aCB9ID0gcmVxdWlyZShcIi4vdXRpbGl0aWVzL2RpcmVjdG9yeVwiKSxcbiAgICAgIHsgTE9BRElOR19DU1NfRklMRV9QQVRILCBDTElFTlRfVEVNUExBVEVfRklMRV9QQVRILCBMT0FESU5HX1RFTVBMQVRFX0ZJTEVfUEFUSCwgSU5ERVhfVEVNUExBVEVfRklMRV9QQVRIIH0gPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5cbmNvbnN0IHsgcmVhZEZpbGUgfSA9IGZpbGVTeXN0ZW1VdGlsaXRpZXMsXG4gICAgICB7IHBhcnNlRmlsZSB9ID0gdGVtcGxhdGVVdGlsaXRpZXMsXG4gICAgICB7IGNvbmNhdGVuYXRlUGF0aHMgfSA9IHBhdGhVdGlsaXRpZXM7XG5cbmZ1bmN0aW9uIGNyZWF0ZUluZGV4SFRNTChtYXJrZG93bkhUTUwsIG1hcmtkb3duU3R5bGVzQ1NTLCBjbGllbnQpIHtcbiAgY29uc3Qgc291cmNlRGlyZWN0b3J5UGF0aCA9IGdldFNvdXJjZURpcmVjdG9yeVBhdGgoKSxcbiAgICAgICAgaW5kZXhUZW1wbGF0ZUZpbGVQYXRoID0gY29uY2F0ZW5hdGVQYXRocyhzb3VyY2VEaXJlY3RvcnlQYXRoLCBJTkRFWF9URU1QTEFURV9GSUxFX1BBVEgpLFxuICAgICAgICBhcmdzID0ge1xuICAgICAgICAgIG1hcmtkb3duSFRNTCxcbiAgICAgICAgICBtYXJrZG93blN0eWxlc0NTUyxcbiAgICAgICAgICBsaXZlUmVsb2FkU25pcHBldCxcbiAgICAgICAgICBjb21wdXRlck1vZGVyblN0eWxlQ1NTXG4gICAgICAgIH07XG5cbiAgaWYgKGNsaWVudCkge1xuICAgIGNvbnN0IGNsaWVudEhUTUwgPSBjcmVhdGVDbGllbnRIVE1MKHNvdXJjZURpcmVjdG9yeVBhdGgpLFxuICAgICAgICAgIGxvYWRpbmdDU1MgPSBjcmVhdGVMb2FkaW5nQ1NTKHNvdXJjZURpcmVjdG9yeVBhdGgpLFxuICAgICAgICAgIGxvYWRpbmdIVE1MID0gY3JlYXRlTG9hZGluZ0hUTUwoc291cmNlRGlyZWN0b3J5UGF0aCk7XG5cbiAgICBPYmplY3QuYXNzaWduKGFyZ3MsIHtcbiAgICAgIGNsaWVudEhUTUwsXG4gICAgICBsb2FkaW5nQ1NTLFxuICAgICAgbG9hZGluZ0hUTUxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGluZGV4SFRNTCA9IHBhcnNlRmlsZShpbmRleFRlbXBsYXRlRmlsZVBhdGgsIGFyZ3MpO1xuXG4gIHJldHVybiBpbmRleEhUTUw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlSW5kZXhIVE1MO1xuXG5mdW5jdGlvbiBjcmVhdGVDbGllbnRIVE1MKHNvdXJjZURpcmVjdG9yeVBhdGgpIHtcbiAgY29uc3QgZmlsZVBhdGggPSBjb25jYXRlbmF0ZVBhdGhzKHNvdXJjZURpcmVjdG9yeVBhdGgsIENMSUVOVF9URU1QTEFURV9GSUxFX1BBVEgpLFxuICAgICAgICBjb250ZW50ID0gcGFyc2VGaWxlKGZpbGVQYXRoKSxcbiAgICAgICAgY2xpZW50SFRNTCA9IGNvbnRlbnQ7IC8vL1xuXG4gIHJldHVybiBjbGllbnRIVE1MO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2FkaW5nQ1NTKHNvdXJjZURpcmVjdG9yeVBhdGgpIHtcbiAgY29uc3QgZmlsZVBhdGggPSBjb25jYXRlbmF0ZVBhdGhzKHNvdXJjZURpcmVjdG9yeVBhdGgsIExPQURJTkdfQ1NTX0ZJTEVfUEFUSCksXG4gICAgICAgIGNvbnRlbnQgPSByZWFkRmlsZShmaWxlUGF0aCksXG4gICAgICAgIGxvYWRpbmdDU1MgPSBjb250ZW50OyAvLy9cblxuICByZXR1cm4gbG9hZGluZ0NTUztcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9hZGluZ0hUTUwoc291cmNlRGlyZWN0b3J5UGF0aCkge1xuICBjb25zdCBmaWxlUGF0aCA9IGNvbmNhdGVuYXRlUGF0aHMoc291cmNlRGlyZWN0b3J5UGF0aCwgTE9BRElOR19URU1QTEFURV9GSUxFX1BBVEgpLFxuICAgICAgICBjb250ZW50ID0gcmVhZEZpbGUoZmlsZVBhdGgpLFxuICAgICAgICBsb2FkaW5nSFRNTCA9IGNvbnRlbnQ7IC8vL1xuXG4gIHJldHVybiBsb2FkaW5nSFRNTDtcbn1cbiJdLCJuYW1lcyI6WyJsaXZlUmVsb2FkU25pcHBldCIsInJlcXVpcmUiLCJjb21wdXRlck1vZGVyblN0eWxlIiwiY29tcHV0ZXJNb2Rlcm5TdHlsZUNTUyIsInBhdGhVdGlsaXRpZXMiLCJ0ZW1wbGF0ZVV0aWxpdGllcyIsImZpbGVTeXN0ZW1VdGlsaXRpZXMiLCJnZXRTb3VyY2VEaXJlY3RvcnlQYXRoIiwiTE9BRElOR19DU1NfRklMRV9QQVRIIiwiQ0xJRU5UX1RFTVBMQVRFX0ZJTEVfUEFUSCIsIkxPQURJTkdfVEVNUExBVEVfRklMRV9QQVRIIiwiSU5ERVhfVEVNUExBVEVfRklMRV9QQVRIIiwicmVhZEZpbGUiLCJwYXJzZUZpbGUiLCJjb25jYXRlbmF0ZVBhdGhzIiwiY3JlYXRlSW5kZXhIVE1MIiwibWFya2Rvd25IVE1MIiwibWFya2Rvd25TdHlsZXNDU1MiLCJjbGllbnQiLCJzb3VyY2VEaXJlY3RvcnlQYXRoIiwiaW5kZXhUZW1wbGF0ZUZpbGVQYXRoIiwiYXJncyIsImNsaWVudEhUTUwiLCJjcmVhdGVDbGllbnRIVE1MIiwibG9hZGluZ0NTUyIsImNyZWF0ZUxvYWRpbmdDU1MiLCJsb2FkaW5nSFRNTCIsImNyZWF0ZUxvYWRpbmdIVE1MIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5kZXhIVE1MIiwibW9kdWxlIiwiZXhwb3J0cyIsImZpbGVQYXRoIiwiY29udGVudCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxJQUFNLEFBQUVBLG9CQUFzQkMsUUFBUSxjQUE5QkQsbUJBQ2dEQyxXQUFBQSxRQUFRLG1CQUF4REMsQUFBcUJDLHlCQUEyQkYsU0FBaERDLHFCQUMwREQsWUFBQUEsUUFBUSxjQUFsRUcsZ0JBQTBESCxVQUExREcsZUFBZUMsb0JBQTJDSixVQUEzQ0ksbUJBQW1CQyxzQkFBd0JMLFVBQXhCSztBQUUxQyxJQUFNLEFBQUVDLHlCQUEyQk4sUUFBUSx5QkFBbkNNLHdCQUMyR04sWUFBQUEsUUFBUSxnQkFBbkhPLHdCQUEyR1AsVUFBM0dPLHVCQUF1QkMsNEJBQW9GUixVQUFwRlEsMkJBQTJCQyw2QkFBeURULFVBQXpEUyw0QkFBNEJDLDJCQUE2QlYsVUFBN0JVO0FBRXRGLElBQU0sQUFBRUMsV0FBYU4sb0JBQWJNLFVBQ0YsQUFBRUMsWUFBY1Isa0JBQWRRLFdBQ0YsQUFBRUMsbUJBQXFCVixjQUFyQlU7QUFFUixTQUFTQyxnQkFBZ0JDLFlBQVksRUFBRUMsaUJBQWlCLEVBQUVDLE1BQU07SUFDOUQsSUFBTUMsc0JBQXNCWiwwQkFDdEJhLHdCQUF3Qk4saUJBQWlCSyxxQkFBcUJSLDJCQUM5RFUsT0FBTztRQUNMTCxjQUFBQTtRQUNBQyxtQkFBQUE7UUFDQWpCLG1CQUFBQTtRQUNBRyx3QkFBQUE7SUFDRjtJQUVOLElBQUllLFFBQVE7UUFDVixJQUFNSSxhQUFhQyxpQkFBaUJKLHNCQUM5QkssYUFBYUMsaUJBQWlCTixzQkFDOUJPLGNBQWNDLGtCQUFrQlI7UUFFdENTLE9BQU9DLE1BQU0sQ0FBQ1IsTUFBTTtZQUNsQkMsWUFBQUE7WUFDQUUsWUFBQUE7WUFDQUUsYUFBQUE7UUFDRjtJQUNGO0lBRUEsSUFBTUksWUFBWWpCLFVBQVVPLHVCQUF1QkM7SUFFbkQsT0FBT1M7QUFDVDtBQUVBQyxPQUFPQyxPQUFPLEdBQUdqQjtBQUVqQixTQUFTUSxpQkFBaUJKLG1CQUFtQjtJQUMzQyxJQUFNYyxXQUFXbkIsaUJBQWlCSyxxQkFBcUJWLDRCQUNqRHlCLFVBQVVyQixVQUFVb0IsV0FDcEJYLGFBQWFZLFNBQVMsR0FBRztJQUUvQixPQUFPWjtBQUNUO0FBRUEsU0FBU0csaUJBQWlCTixtQkFBbUI7SUFDM0MsSUFBTWMsV0FBV25CLGlCQUFpQksscUJBQXFCWCx3QkFDakQwQixVQUFVdEIsU0FBU3FCLFdBQ25CVCxhQUFhVSxTQUFTLEdBQUc7SUFFL0IsT0FBT1Y7QUFDVDtBQUVBLFNBQVNHLGtCQUFrQlIsbUJBQW1CO0lBQzVDLElBQU1jLFdBQVduQixpQkFBaUJLLHFCQUFxQlQsNkJBQ2pEd0IsVUFBVXRCLFNBQVNxQixXQUNuQlAsY0FBY1EsU0FBUyxHQUFHO0lBRWhDLE9BQU9SO0FBQ1QifQ==