"use strict";
import express from "express";
import { ERROR } from "../constants";
import { UNABLE_TO_START_SERVER_MESSAGE } from "../messages";
export default function serverOperation(proceed, abort, context) {
    var server = express(); ///
    Object.assign(context, {
        server: server
    });
    var port = context.port, projectDirectoryName = context.projectDirectoryName, staticRouter = express.static(projectDirectoryName);
    server.use(staticRouter);
    var listener = server.listen(port, function() {
        console.log("Server listening on port ".concat(port, "..."));
        proceed();
    });
    listener.on(ERROR, function(error) {
        var message;
        message = UNABLE_TO_START_SERVER_MESSAGE;
        console.log(message);
        message = error.message;
        console.log(message);
        abort();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb24vc2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuXG5pbXBvcnQgeyBFUlJPUiB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFVOQUJMRV9UT19TVEFSVF9TRVJWRVJfTUVTU0FHRSB9IGZyb20gXCIuLi9tZXNzYWdlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXJ2ZXJPcGVyYXRpb24ocHJvY2VlZCwgYWJvcnQsIGNvbnRleHQpIHtcbiAgY29uc3Qgc2VydmVyID0gZXhwcmVzcygpOyAvLy9cblxuICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHtcbiAgICBzZXJ2ZXJcbiAgfSk7XG5cbiAgY29uc3QgeyBwb3J0LCBwcm9qZWN0RGlyZWN0b3J5TmFtZSB9ID0gY29udGV4dCxcbiAgICAgICAgc3RhdGljUm91dGVyID0gZXhwcmVzcy5zdGF0aWMocHJvamVjdERpcmVjdG9yeU5hbWUpO1xuXG4gIHNlcnZlci51c2Uoc3RhdGljUm91dGVyKTtcblxuICBjb25zdCBsaXN0ZW5lciA9IHNlcnZlci5saXN0ZW4ocG9ydCwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBTZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgJHtwb3J0fS4uLmApO1xuXG4gICAgcHJvY2VlZCgpO1xuICB9KTtcblxuICBsaXN0ZW5lci5vbihFUlJPUiwgKGVycm9yKSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG5cbiAgICBtZXNzYWdlID0gVU5BQkxFX1RPX1NUQVJUX1NFUlZFUl9NRVNTQUdFO1xuXG4gICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG5cbiAgICAoeyBtZXNzYWdlIH0gPSBlcnJvcik7XG5cbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcblxuICAgIGFib3J0KCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJFUlJPUiIsIlVOQUJMRV9UT19TVEFSVF9TRVJWRVJfTUVTU0FHRSIsInNlcnZlck9wZXJhdGlvbiIsInByb2NlZWQiLCJhYm9ydCIsImNvbnRleHQiLCJzZXJ2ZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJwb3J0IiwicHJvamVjdERpcmVjdG9yeU5hbWUiLCJzdGF0aWNSb3V0ZXIiLCJzdGF0aWMiLCJ1c2UiLCJsaXN0ZW5lciIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciLCJvbiIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQSxPQUFPQSxhQUFhLFVBQVU7QUFFOUIsU0FBU0MsS0FBSyxRQUFRLGVBQWU7QUFDckMsU0FBU0MsOEJBQThCLFFBQVEsY0FBYztBQUU3RCxlQUFlLFNBQVNDLGdCQUFnQkMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU87SUFDN0QsSUFBTUMsU0FBU1AsV0FBVyxHQUFHO0lBRTdCUSxPQUFPQyxNQUFNLENBQUNILFNBQVM7UUFDckJDLFFBQUFBO0lBQ0Y7SUFFQSxJQUFRRyxPQUErQkosUUFBL0JJLE1BQU1DLHVCQUF5QkwsUUFBekJLLHNCQUNSQyxlQUFlWixRQUFRYSxNQUFNLENBQUNGO0lBRXBDSixPQUFPTyxHQUFHLENBQUNGO0lBRVgsSUFBTUcsV0FBV1IsT0FBT1MsTUFBTSxDQUFDTixNQUFNO1FBQ25DTyxRQUFRQyxHQUFHLENBQUMsQUFBQyw0QkFBZ0MsT0FBTFIsTUFBSztRQUU3Q047SUFDRjtJQUVBVyxTQUFTSSxFQUFFLENBQUNsQixPQUFPLFNBQUNtQjtRQUNsQixJQUFJQztRQUVKQSxVQUFVbkI7UUFFVmUsUUFBUUMsR0FBRyxDQUFDRztRQUVUQSxVQUFZRCxNQUFaQztRQUVISixRQUFRQyxHQUFHLENBQUNHO1FBRVpoQjtJQUNGO0FBQ0YifQ==