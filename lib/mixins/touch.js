"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
var _easy = require("easy");
var _position = /*#__PURE__*/ _interop_require_default(require("../position"));
var _velocity = /*#__PURE__*/ _interop_require_default(require("../velocity"));
var _constants = require("../constants");
var _degrees = require("../degrees");
var _customEventTypes = require("../customEventTypes");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function enableTouch() {
    var startPosition = null;
    this.updateState({
        startPosition: startPosition
    });
    this.onMouseDown(this.mouseDownHandler);
    this.onMouseMove(this.mouseMoveHandler);
    _easy.window.onMouseUp(this.mouseUpHandler, this);
    this.onTouchStart(this.touchStartHandler);
    this.onTouchMove(this.touchMoveHandler);
    this.onTouchEnd(this.touchEndHandler);
}
function disableTouch() {
    this.offMouseDown(this.mouseDownHandler);
    this.offMouseMove(this.mouseMoveHandler);
    _easy.window.offMouseUp(this.mouseUpHandler, this);
    this.offTouchStart(this.touchStartHandler);
    this.offTouchMove(this.touchMoveHandler);
    this.offTouchEnd(this.touchEndHandler);
}
function onCustomTap(tapCustomHandler, element) {
    var customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE, customHandler = tapCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomTap(tapCustomHandler, element) {
    var customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE, customHandler = tapCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeUp(swipeUpCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE, customHandler = swipeUpCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeUp(swipeUpCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE, customHandler = swipeUpCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeDown(swipeDownCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE, customHandler = swipeDownCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeDown(swipeDownCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE, customHandler = swipeDownCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeLeft(swipeLeftCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE, customHandler = swipeLeftCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeLeft(swipeLeftCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE, customHandler = swipeLeftCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeRight(swipeRightCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE, customHandler = swipeRightCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeRight(swipeRightCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE, customHandler = swipeRightCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function getStartPosition() {
    var startPosition = this.getState().startPosition;
    return startPosition;
}
function setStartPosition(startPosition) {
    this.updateState({
        startPosition: startPosition
    });
}
function touchStartHandler(event, element) {
    this.startHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseDownHandler(event, element) {
    this.startHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function touchMoveHandler(event, element) {
    this.moveHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseMoveHandler(event, element) {
    this.moveHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function touchEndHandler(event, element) {
    this.endHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseUpHandler(event, element) {
    this.endHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function startHandler(event, element, positionFromEvent) {
    var position = positionFromEvent(event), startPosition = position; ///
    this.setStartPosition(startPosition);
}
function moveHandler(event, element, positionFromEvent) {
    var startPosition = this.getStartPosition();
    if (startPosition !== null) {
        var position = positionFromEvent(event);
        if (position !== null) {
            var positionMatchesStartPosition = position.match(startPosition);
            if (positionMatchesStartPosition) {
                var velocity = _velocity.default.fromPositionAndStartPosition(position, startPosition), speed = velocity.getSpeed();
            }
        }
    }
}
function endHandler(event, element, positionFromEvent) {
    var startPosition;
    startPosition = this.getStartPosition();
    if (startPosition !== null) {
        var position = positionFromEvent(event);
        if (position !== null) {
            var positionMatchesStartPosition = position.match(startPosition);
            if (positionMatchesStartPosition) {
                var velocity = _velocity.default.fromPositionAndStartPosition(position, startPosition), direction = velocity.getDirection(), speed = velocity.getSpeed(), time = velocity.getTime();
                var customEventType = null, projectedVelocity;
                if (speed === 0) {
                    if (time < _constants.MAXIMUM_TAP_TIME) {
                        customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed; ///
                    }
                } else if (speed > _constants.MINIMUM_SWIPE_SPEED) {
                    var angle = _constants.PI * direction / _degrees.ONE_HUNDRED_AND_EIGHTY_DEGREES;
                    if (Math.abs(_degrees.ZERO_DEGREES - direction) < _constants.SWIPE_RANGE_OD_DEGREES) {
                        customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.cos(angle);
                    }
                    if (Math.abs(_degrees.PLUS_NINETY_DEGREES - direction) < _constants.SWIPE_RANGE_OD_DEGREES) {
                        customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.sin(angle);
                    }
                    if (Math.abs(_degrees.MINUS_NINETY_DEGREES - direction) < _constants.SWIPE_RANGE_OD_DEGREES) {
                        customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.sin(angle);
                    }
                    if (_degrees.ONE_HUNDRED_AND_EIGHTY_DEGREES - Math.abs(direction) < _constants.SWIPE_RANGE_OD_DEGREES) {
                        customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.cos(angle);
                    }
                }
                if (customEventType !== null) {
                    this.callCustomHandlers(customEventType, event, element, projectedVelocity);
                }
            }
        }
    }
    startPosition = null;
    this.setStartPosition(startPosition);
}
var customEventMixins = {
    enableTouch: enableTouch,
    disableTouch: disableTouch,
    onCustomTap: onCustomTap,
    offCustomTap: offCustomTap,
    onCustomSwipeUp: onCustomSwipeUp,
    offCustomSwipeUp: offCustomSwipeUp,
    onCustomSwipeDown: onCustomSwipeDown,
    offCustomSwipeDown: offCustomSwipeDown,
    onCustomSwipeLeft: onCustomSwipeLeft,
    offCustomSwipeLeft: offCustomSwipeLeft,
    onCustomSwipeRight: onCustomSwipeRight,
    offCustomSwipeRight: offCustomSwipeRight,
    getStartPosition: getStartPosition,
    setStartPosition: setStartPosition,
    touchStartHandler: touchStartHandler,
    mouseDownHandler: mouseDownHandler,
    touchMoveHandler: touchMoveHandler,
    mouseMoveHandler: mouseMoveHandler,
    touchEndHandler: touchEndHandler,
    mouseUpHandler: mouseUpHandler,
    startHandler: startHandler,
    moveHandler: moveHandler,
    endHandler: endHandler
};
var _default = customEventMixins;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvdG91Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IHdpbmRvdyB9IGZyb20gXCJlYXN5XCI7XG5cbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vcG9zaXRpb25cIjtcbmltcG9ydCBWZWxvY2l0eSBmcm9tIFwiLi4vdmVsb2NpdHlcIjtcblxuaW1wb3J0IHsgUEksIE1BWElNVU1fVEFQX1RJTUUsIE1JTklNVU1fU1dJUEVfU1BFRUQsIFNXSVBFX1JBTkdFX09EX0RFR1JFRVMgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBaRVJPX0RFR1JFRVMsIFBMVVNfTklORVRZX0RFR1JFRVMsIE1JTlVTX05JTkVUWV9ERUdSRUVTLCBPTkVfSFVORFJFRF9BTkRfRUlHSFRZX0RFR1JFRVMgfSBmcm9tIFwiLi4vZGVncmVlc1wiO1xuaW1wb3J0IHsgVEFQX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICAgU1dJUEVfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgICBTV0lQRV9ET1dOX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICAgU1dJUEVfTEVGVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgIFNXSVBFX1JJR0hUX0NVU1RPTV9FVkVOVF9UWVBFIH0gZnJvbSBcIi4uL2N1c3RvbUV2ZW50VHlwZXNcIjtcblxuZnVuY3Rpb24gZW5hYmxlVG91Y2goKSB7XG4gIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSBudWxsO1xuXG4gIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgIHN0YXJ0UG9zaXRpb25cbiAgfSk7XG5cbiAgdGhpcy5vbk1vdXNlRG93bih0aGlzLm1vdXNlRG93bkhhbmRsZXIpO1xuICB0aGlzLm9uTW91c2VNb3ZlKHRoaXMubW91c2VNb3ZlSGFuZGxlcik7XG5cbiAgd2luZG93Lm9uTW91c2VVcCh0aGlzLm1vdXNlVXBIYW5kbGVyLCB0aGlzKTtcblxuICB0aGlzLm9uVG91Y2hTdGFydCh0aGlzLnRvdWNoU3RhcnRIYW5kbGVyKTtcbiAgdGhpcy5vblRvdWNoTW92ZSh0aGlzLnRvdWNoTW92ZUhhbmRsZXIpO1xuICB0aGlzLm9uVG91Y2hFbmQodGhpcy50b3VjaEVuZEhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlVG91Y2goKSB7XG4gIHRoaXMub2ZmTW91c2VEb3duKHRoaXMubW91c2VEb3duSGFuZGxlcik7XG4gIHRoaXMub2ZmTW91c2VNb3ZlKHRoaXMubW91c2VNb3ZlSGFuZGxlcik7XG5cbiAgd2luZG93Lm9mZk1vdXNlVXAodGhpcy5tb3VzZVVwSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vZmZUb3VjaFN0YXJ0KHRoaXMudG91Y2hTdGFydEhhbmRsZXIpO1xuICB0aGlzLm9mZlRvdWNoTW92ZSh0aGlzLnRvdWNoTW92ZUhhbmRsZXIpO1xuICB0aGlzLm9mZlRvdWNoRW5kKHRoaXMudG91Y2hFbmRIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21UYXAodGFwQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBUQVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSB0YXBDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tVGFwKHRhcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gVEFQX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gdGFwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vZmZDdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvbkN1c3RvbVN3aXBlVXAoc3dpcGVVcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZVVwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbVN3aXBlVXAoc3dpcGVVcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZVVwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vZmZDdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvbkN1c3RvbVN3aXBlRG93bihzd2lwZURvd25DdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IFNXSVBFX0RPV05fQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZURvd25DdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tU3dpcGVEb3duKHN3aXBlRG93bkN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfRE9XTl9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlRG93bkN1c3RvbUhhbmRsZXI7IC8vL1xuXG4gIHRoaXMub2ZmQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21Td2lwZUxlZnQoc3dpcGVMZWZ0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9MRUZUX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gc3dpcGVMZWZ0Q3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbVN3aXBlTGVmdChzd2lwZUxlZnRDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IFNXSVBFX0xFRlRfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZUxlZnRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9uQ3VzdG9tU3dpcGVSaWdodChzd2lwZVJpZ2h0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9SSUdIVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlUmlnaHRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tU3dpcGVSaWdodChzd2lwZVJpZ2h0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9SSUdIVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlUmlnaHRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0YXJ0UG9zaXRpb24oKSB7XG4gIGNvbnN0IHsgc3RhcnRQb3NpdGlvbiB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuXG4gIHJldHVybiBzdGFydFBvc2l0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRTdGFydFBvc2l0aW9uKHN0YXJ0UG9zaXRpb24pIHtcbiAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgc3RhcnRQb3NpdGlvblxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG91Y2hTdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgdGhpcy5zdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tVG91Y2hFdmVudCh0b3VjaEV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vdXNlRG93bkhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgdGhpcy5zdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4geyAgLy8vXG4gICAgY29uc3QgbW91c2VFdmVudCA9IGV2ZW50LCAvLy9cbiAgICAgICAgICBwb3NpdGlvbiA9IFBvc2l0aW9uLmZyb21Nb3VzZUV2ZW50KG1vdXNlRXZlbnQpO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG91Y2hNb3ZlSGFuZGxlcihldmVudCwgZWxlbWVudCkge1xuICB0aGlzLm1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50LCAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB0b3VjaEV2ZW50ID0gZXZlbnQsIC8vL1xuICAgICAgICAgIHBvc2l0aW9uID0gUG9zaXRpb24uZnJvbVRvdWNoRXZlbnQodG91Y2hFdmVudCk7XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIHRoaXMubW92ZUhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IG1vdXNlRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tTW91c2VFdmVudChtb3VzZUV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvdWNoRW5kSGFuZGxlcihldmVudCwgZWxlbWVudCkge1xuICB0aGlzLmVuZEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tVG91Y2hFdmVudCh0b3VjaEV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vdXNlVXBIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIHRoaXMuZW5kSGFuZGxlcihldmVudCwgZWxlbWVudCwgKGV2ZW50KSA9PiB7ICAvLy9cbiAgICBjb25zdCBtb3VzZUV2ZW50ID0gZXZlbnQsIC8vL1xuICAgICAgICAgIHBvc2l0aW9uID0gUG9zaXRpb24uZnJvbU1vdXNlRXZlbnQobW91c2VFdmVudCk7XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIHBvc2l0aW9uRnJvbUV2ZW50KSB7XG4gIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25Gcm9tRXZlbnQoZXZlbnQpLFxuICAgICAgICBzdGFydFBvc2l0aW9uID0gcG9zaXRpb247ICAvLy9cblxuICB0aGlzLnNldFN0YXJ0UG9zaXRpb24oc3RhcnRQb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIG1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50LCBwb3NpdGlvbkZyb21FdmVudCkge1xuICBsZXQgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0U3RhcnRQb3NpdGlvbigpO1xuXG4gIGlmIChzdGFydFBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbkZyb21FdmVudChldmVudCk7XG5cbiAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24gPSBwb3NpdGlvbi5tYXRjaChzdGFydFBvc2l0aW9uKTtcblxuICAgICAgaWYgKHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgdmVsb2NpdHkgPSBWZWxvY2l0eS5mcm9tUG9zaXRpb25BbmRTdGFydFBvc2l0aW9uKHBvc2l0aW9uLCBzdGFydFBvc2l0aW9uKSxcbiAgICAgICAgICAgICAgc3BlZWQgPSB2ZWxvY2l0eS5nZXRTcGVlZCgpO1xuXG5cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5kSGFuZGxlcihldmVudCwgZWxlbWVudCwgcG9zaXRpb25Gcm9tRXZlbnQpIHtcbiAgbGV0IHN0YXJ0UG9zaXRpb247XG5cbiAgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0U3RhcnRQb3NpdGlvbigpO1xuXG4gIGlmIChzdGFydFBvc2l0aW9uICE9PSBudWxsKSB7XG5cbiAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uRnJvbUV2ZW50KGV2ZW50KTtcblxuICAgIGlmIChwb3NpdGlvbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgcG9zaXRpb25NYXRjaGVzU3RhcnRQb3NpdGlvbiA9IHBvc2l0aW9uLm1hdGNoKHN0YXJ0UG9zaXRpb24pO1xuXG4gICAgICBpZiAocG9zaXRpb25NYXRjaGVzU3RhcnRQb3NpdGlvbikge1xuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IFZlbG9jaXR5LmZyb21Qb3NpdGlvbkFuZFN0YXJ0UG9zaXRpb24ocG9zaXRpb24sIHN0YXJ0UG9zaXRpb24pLFxuICAgICAgICAgICAgICBkaXJlY3Rpb24gPSB2ZWxvY2l0eS5nZXREaXJlY3Rpb24oKSxcbiAgICAgICAgICAgICAgc3BlZWQgPSB2ZWxvY2l0eS5nZXRTcGVlZCgpLFxuICAgICAgICAgICAgICB0aW1lID0gdmVsb2NpdHkuZ2V0VGltZSgpO1xuXG4gICAgICAgIGxldCBjdXN0b21FdmVudFR5cGUgPSBudWxsLFxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKHNwZWVkID09PSAwKSB7XG4gICAgICAgICAgaWYgKHRpbWUgPCBNQVhJTVVNX1RBUF9USU1FKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBUQVBfQ1VTVE9NX0VWRU5UX1RZUEU7XG5cbiAgICAgICAgICAgIHByb2plY3RlZFZlbG9jaXR5ID0gc3BlZWQ7ICAvLy9cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3BlZWQgPiBNSU5JTVVNX1NXSVBFX1NQRUVEKSB7XG4gICAgICAgICAgY29uc3QgYW5nbGUgPSBQSSAqIGRpcmVjdGlvbiAvIE9ORV9IVU5EUkVEX0FORF9FSUdIVFlfREVHUkVFUztcblxuICAgICAgICAgIGlmICgoTWF0aC5hYnMoWkVST19ERUdSRUVTIC0gZGlyZWN0aW9uKSkgPCBTV0lQRV9SQU5HRV9PRF9ERUdSRUVTKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9SSUdIVF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZCAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMoUExVU19OSU5FVFlfREVHUkVFUyAtIGRpcmVjdGlvbikgPCBTV0lQRV9SQU5HRV9PRF9ERUdSRUVTKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9VUF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZCAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoTWF0aC5hYnMoTUlOVVNfTklORVRZX0RFR1JFRVMgLSBkaXJlY3Rpb24pIDwgU1dJUEVfUkFOR0VfT0RfREVHUkVFUykge1xuICAgICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfRE9XTl9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZCAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoKE9ORV9IVU5EUkVEX0FORF9FSUdIVFlfREVHUkVFUyAtIE1hdGguYWJzKGRpcmVjdGlvbikpIDwgU1dJUEVfUkFOR0VfT0RfREVHUkVFUykge1xuICAgICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfTEVGVF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZCAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VzdG9tRXZlbnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5jYWxsQ3VzdG9tSGFuZGxlcnMoY3VzdG9tRXZlbnRUeXBlLCBldmVudCwgZWxlbWVudCwgcHJvamVjdGVkVmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb3NpdGlvbiA9IG51bGw7XG5cbiAgdGhpcy5zZXRTdGFydFBvc2l0aW9uKHN0YXJ0UG9zaXRpb24pO1xufVxuXG5jb25zdCBjdXN0b21FdmVudE1peGlucyA9IHtcbiAgZW5hYmxlVG91Y2gsXG4gIGRpc2FibGVUb3VjaCxcbiAgb25DdXN0b21UYXAsXG4gIG9mZkN1c3RvbVRhcCxcbiAgb25DdXN0b21Td2lwZVVwLFxuICBvZmZDdXN0b21Td2lwZVVwLFxuICBvbkN1c3RvbVN3aXBlRG93bixcbiAgb2ZmQ3VzdG9tU3dpcGVEb3duLFxuICBvbkN1c3RvbVN3aXBlTGVmdCxcbiAgb2ZmQ3VzdG9tU3dpcGVMZWZ0LFxuICBvbkN1c3RvbVN3aXBlUmlnaHQsXG4gIG9mZkN1c3RvbVN3aXBlUmlnaHQsXG4gIGdldFN0YXJ0UG9zaXRpb24sXG4gIHNldFN0YXJ0UG9zaXRpb24sXG4gIHRvdWNoU3RhcnRIYW5kbGVyLFxuICBtb3VzZURvd25IYW5kbGVyLFxuICB0b3VjaE1vdmVIYW5kbGVyLFxuICBtb3VzZU1vdmVIYW5kbGVyLFxuICB0b3VjaEVuZEhhbmRsZXIsXG4gIG1vdXNlVXBIYW5kbGVyLFxuICBzdGFydEhhbmRsZXIsXG4gIG1vdmVIYW5kbGVyLFxuICBlbmRIYW5kbGVyXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjdXN0b21FdmVudE1peGlucztcbiJdLCJuYW1lcyI6WyJlbmFibGVUb3VjaCIsInN0YXJ0UG9zaXRpb24iLCJ1cGRhdGVTdGF0ZSIsIm9uTW91c2VEb3duIiwibW91c2VEb3duSGFuZGxlciIsIm9uTW91c2VNb3ZlIiwibW91c2VNb3ZlSGFuZGxlciIsIndpbmRvdyIsIm9uTW91c2VVcCIsIm1vdXNlVXBIYW5kbGVyIiwib25Ub3VjaFN0YXJ0IiwidG91Y2hTdGFydEhhbmRsZXIiLCJvblRvdWNoTW92ZSIsInRvdWNoTW92ZUhhbmRsZXIiLCJvblRvdWNoRW5kIiwidG91Y2hFbmRIYW5kbGVyIiwiZGlzYWJsZVRvdWNoIiwib2ZmTW91c2VEb3duIiwib2ZmTW91c2VNb3ZlIiwib2ZmTW91c2VVcCIsIm9mZlRvdWNoU3RhcnQiLCJvZmZUb3VjaE1vdmUiLCJvZmZUb3VjaEVuZCIsIm9uQ3VzdG9tVGFwIiwidGFwQ3VzdG9tSGFuZGxlciIsImVsZW1lbnQiLCJjdXN0b21FdmVudFR5cGUiLCJUQVBfQ1VTVE9NX0VWRU5UX1RZUEUiLCJjdXN0b21IYW5kbGVyIiwib25DdXN0b21FdmVudCIsIm9mZkN1c3RvbVRhcCIsIm9mZkN1c3RvbUV2ZW50Iiwib25DdXN0b21Td2lwZVVwIiwic3dpcGVVcEN1c3RvbUhhbmRsZXIiLCJTV0lQRV9VUF9DVVNUT01fRVZFTlRfVFlQRSIsIm9mZkN1c3RvbVN3aXBlVXAiLCJvbkN1c3RvbVN3aXBlRG93biIsInN3aXBlRG93bkN1c3RvbUhhbmRsZXIiLCJTV0lQRV9ET1dOX0NVU1RPTV9FVkVOVF9UWVBFIiwib2ZmQ3VzdG9tU3dpcGVEb3duIiwib25DdXN0b21Td2lwZUxlZnQiLCJzd2lwZUxlZnRDdXN0b21IYW5kbGVyIiwiU1dJUEVfTEVGVF9DVVNUT01fRVZFTlRfVFlQRSIsIm9mZkN1c3RvbVN3aXBlTGVmdCIsIm9uQ3VzdG9tU3dpcGVSaWdodCIsInN3aXBlUmlnaHRDdXN0b21IYW5kbGVyIiwiU1dJUEVfUklHSFRfQ1VTVE9NX0VWRU5UX1RZUEUiLCJvZmZDdXN0b21Td2lwZVJpZ2h0IiwiZ2V0U3RhcnRQb3NpdGlvbiIsImdldFN0YXRlIiwic2V0U3RhcnRQb3NpdGlvbiIsImV2ZW50Iiwic3RhcnRIYW5kbGVyIiwidG91Y2hFdmVudCIsInBvc2l0aW9uIiwiUG9zaXRpb24iLCJmcm9tVG91Y2hFdmVudCIsIm1vdXNlRXZlbnQiLCJmcm9tTW91c2VFdmVudCIsIm1vdmVIYW5kbGVyIiwiZW5kSGFuZGxlciIsInBvc2l0aW9uRnJvbUV2ZW50IiwicG9zaXRpb25NYXRjaGVzU3RhcnRQb3NpdGlvbiIsIm1hdGNoIiwidmVsb2NpdHkiLCJWZWxvY2l0eSIsImZyb21Qb3NpdGlvbkFuZFN0YXJ0UG9zaXRpb24iLCJzcGVlZCIsImdldFNwZWVkIiwiZGlyZWN0aW9uIiwiZ2V0RGlyZWN0aW9uIiwidGltZSIsImdldFRpbWUiLCJwcm9qZWN0ZWRWZWxvY2l0eSIsIk1BWElNVU1fVEFQX1RJTUUiLCJNSU5JTVVNX1NXSVBFX1NQRUVEIiwiYW5nbGUiLCJQSSIsIk9ORV9IVU5EUkVEX0FORF9FSUdIVFlfREVHUkVFUyIsIk1hdGgiLCJhYnMiLCJaRVJPX0RFR1JFRVMiLCJTV0lQRV9SQU5HRV9PRF9ERUdSRUVTIiwiY29zIiwiUExVU19OSU5FVFlfREVHUkVFUyIsInNpbiIsIk1JTlVTX05JTkVUWV9ERUdSRUVTIiwiY2FsbEN1c3RvbUhhbmRsZXJzIiwiY3VzdG9tRXZlbnRNaXhpbnMiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyIsIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkEwU0E7OztlQUFBOzs7b0JBeFN1QjsrREFFRjsrREFDQTt5QkFFNkQ7dUJBQ3NCO2dDQUsxRDs7Ozs7O0FBRTlDLFNBQVNBO0lBQ1AsSUFBTUMsZ0JBQWdCO0lBRXRCLElBQUksQ0FBQ0MsV0FBVyxDQUFDO1FBQ2ZELGVBQUFBO0lBQ0Y7SUFFQSxJQUFJLENBQUNFLFdBQVcsQ0FBQyxJQUFJLENBQUNDLGdCQUFnQjtJQUN0QyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxJQUFJLENBQUNDLGdCQUFnQjtJQUV0Q0MsWUFBTSxDQUFDQyxTQUFTLENBQUMsSUFBSSxDQUFDQyxjQUFjLEVBQUUsSUFBSTtJQUUxQyxJQUFJLENBQUNDLFlBQVksQ0FBQyxJQUFJLENBQUNDLGlCQUFpQjtJQUN4QyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxJQUFJLENBQUNDLGdCQUFnQjtJQUN0QyxJQUFJLENBQUNDLFVBQVUsQ0FBQyxJQUFJ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