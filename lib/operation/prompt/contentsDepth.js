"use strict";
import { shellUtilities } from "necessary";
import { validateContentsDepth } from "../../utilities/validate";
import { CONTENTS_DEPTH_DESCRIPTION } from "../../descriptions";
import { INVALID_CONTENTS_DEPTH_MESSAGE } from "../../messages";
var prompt = shellUtilities.prompt;
export default function contentsDepthPromptOperation(proceed, abort, context) {
    var contentsDepth = context.contentsDepth, description = CONTENTS_DEPTH_DESCRIPTION, errorMessage = INVALID_CONTENTS_DEPTH_MESSAGE, initialAnswer = "".concat(contentsDepth), validationFunction = validateContentsDepth, options = {
        description: description,
        errorMessage: errorMessage,
        initialAnswer: initialAnswer,
        validationFunction: validationFunction
    };
    prompt(options, function(answer) {
        var contentsDepth = answer; ///
        var valid = contentsDepth !== null;
        if (valid) {
            contentsDepth = Number(contentsDepth);
            Object.assign(context, {
                contentsDepth: contentsDepth
            });
            proceed();
            return;
        }
        abort();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vcGVyYXRpb24vcHJvbXB0L2NvbnRlbnRzRGVwdGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IHNoZWxsVXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5pbXBvcnQgeyB2YWxpZGF0ZUNvbnRlbnRzRGVwdGggfSBmcm9tIFwiLi4vLi4vdXRpbGl0aWVzL3ZhbGlkYXRlXCI7XG5pbXBvcnQgeyBDT05URU5UU19ERVBUSF9ERVNDUklQVElPTiB9IGZyb20gXCIuLi8uLi9kZXNjcmlwdGlvbnNcIjtcbmltcG9ydCB7IElOVkFMSURfQ09OVEVOVFNfREVQVEhfTUVTU0FHRSB9IGZyb20gXCIuLi8uLi9tZXNzYWdlc1wiO1xuXG5jb25zdCB7IHByb21wdCB9ID0gc2hlbGxVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnRlbnRzRGVwdGhQcm9tcHRPcGVyYXRpb24ocHJvY2VlZCwgYWJvcnQsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBjb250ZW50c0RlcHRoIH0gPSBjb250ZXh0LFxuICAgICAgICBkZXNjcmlwdGlvbiA9IENPTlRFTlRTX0RFUFRIX0RFU0NSSVBUSU9OLFxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBJTlZBTElEX0NPTlRFTlRTX0RFUFRIX01FU1NBR0UsXG4gICAgICAgIGluaXRpYWxBbnN3ZXIgPSBgJHtjb250ZW50c0RlcHRofWAsXG4gICAgICAgIHZhbGlkYXRpb25GdW5jdGlvbiA9IHZhbGlkYXRlQ29udGVudHNEZXB0aCwgIC8vL1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgICAgICBpbml0aWFsQW5zd2VyLFxuICAgICAgICAgIHZhbGlkYXRpb25GdW5jdGlvblxuICAgICAgICB9O1xuXG4gIHByb21wdChvcHRpb25zLCAoYW5zd2VyKSA9PiB7XG4gICAgbGV0IGNvbnRlbnRzRGVwdGggPSBhbnN3ZXI7ICAvLy9cblxuICAgIGNvbnN0IHZhbGlkID0gKGNvbnRlbnRzRGVwdGggIT09IG51bGwpO1xuXG4gICAgaWYgKHZhbGlkKSB7XG4gICAgICBjb250ZW50c0RlcHRoID0gTnVtYmVyKGNvbnRlbnRzRGVwdGgpO1xuXG4gICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHtcbiAgICAgICAgY29udGVudHNEZXB0aFxuICAgICAgfSk7XG5cbiAgICAgIHByb2NlZWQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFib3J0KCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbInNoZWxsVXRpbGl0aWVzIiwidmFsaWRhdGVDb250ZW50c0RlcHRoIiwiQ09OVEVOVFNfREVQVEhfREVTQ1JJUFRJT04iLCJJTlZBTElEX0NPTlRFTlRTX0RFUFRIX01FU1NBR0UiLCJwcm9tcHQiLCJjb250ZW50c0RlcHRoUHJvbXB0T3BlcmF0aW9uIiwicHJvY2VlZCIsImFib3J0IiwiY29udGV4dCIsImNvbnRlbnRzRGVwdGgiLCJkZXNjcmlwdGlvbiIsImVycm9yTWVzc2FnZSIsImluaXRpYWxBbnN3ZXIiLCJ2YWxpZGF0aW9uRnVuY3Rpb24iLCJvcHRpb25zIiwiYW5zd2VyIiwidmFsaWQiLCJOdW1iZXIiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiJBQUFBO0FBRUEsU0FBU0EsY0FBYyxRQUFRLFlBQVk7QUFFM0MsU0FBU0MscUJBQXFCLFFBQVEsMkJBQTJCO0FBQ2pFLFNBQVNDLDBCQUEwQixRQUFRLHFCQUFxQjtBQUNoRSxTQUFTQyw4QkFBOEIsUUFBUSxpQkFBaUI7QUFFaEUsSUFBTSxBQUFFQyxTQUFXSixlQUFYSTtBQUVSLGVBQWUsU0FBU0MsNkJBQTZCQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTztJQUMxRSxJQUFNLEFBQUVDLGdCQUFrQkQsUUFBbEJDLGVBQ0ZDLGNBQWNSLDRCQUNkUyxlQUFlUixnQ0FDZlMsZ0JBQWdCLEFBQUMsR0FBZ0IsT0FBZEgsZ0JBQ25CSSxxQkFBcUJaLHVCQUNyQmEsVUFBVTtRQUNSSixhQUFBQTtRQUNBQyxjQUFBQTtRQUNBQyxlQUFBQTtRQUNBQyxvQkFBQUE7SUFDRjtJQUVOVCxPQUFPVSxTQUFTLFNBQUNDO1FBQ2YsSUFBSU4sZ0JBQWdCTSxRQUFTLEdBQUc7UUFFaEMsSUFBTUMsUUFBU1Asa0JBQWtCO1FBRWpDLElBQUlPLE9BQU87WUFDVFAsZ0JBQWdCUSxPQUFPUjtZQUV2QlMsT0FBT0MsTUFBTSxDQUFDWCxTQUFTO2dCQUNyQkMsZUFBQUE7WUFDRjtZQUVBSDtZQUVBO1FBQ0Y7UUFFQUM7SUFDRjtBQUNGIn0=