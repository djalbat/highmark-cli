"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
var _easy = require("easy");
var _position = /*#__PURE__*/ _interop_require_default(require("../position"));
var _relative = /*#__PURE__*/ _interop_require_default(require("../position/relative"));
var _constants = require("../constants");
var _customEventTypes = require("../customEventTypes");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function enableTouch() {
    var startPosition = null;
    this.updateState({
        startPosition: startPosition
    });
    this.onMouseDown(this.mouseDownHandler);
    this.onMouseMove(this.mouseMoveHandler);
    _easy.window.onMouseUp(this.mouseUpHandler, this);
    this.onTouchStart(this.touchStartHandler);
    this.onTouchMove(this.touchMoveHandler);
    this.onTouchEnd(this.touchEndHandler);
}
function disableTouch() {
    this.offMouseDown(this.mouseDownHandler);
    this.offMouseMove(this.mouseMoveHandler);
    _easy.window.offMouseUp(this.mouseUpHandler, this);
    this.offTouchStart(this.touchStartHandler);
    this.offTouchMove(this.touchMoveHandler);
    this.offTouchEnd(this.touchEndHandler);
}
function onCustomTap(tapCustomHandler, element) {
    var customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE, customHandler = tapCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomTap(tapCustomHandler, element) {
    var customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE, customHandler = tapCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeUp(swipeUpCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE, customHandler = swipeUpCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeUp(swipeUpCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE, customHandler = swipeUpCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeDown(swipeDownCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE, customHandler = swipeDownCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeDown(swipeDownCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE, customHandler = swipeDownCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeLeft(swipeLeftCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE, customHandler = swipeLeftCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeLeft(swipeLeftCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE, customHandler = swipeLeftCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function onCustomSwipeRight(swipeRightCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE, customHandler = swipeRightCustomHandler; ///
    this.onCustomEvent(customEventType, customHandler, element);
}
function offCustomSwipeRight(swipeRightCustomHandler, element) {
    var customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE, customHandler = swipeRightCustomHandler; ///
    this.offCustomEvent(customEventType, customHandler, element);
}
function getStartPosition() {
    var startPosition = this.getState().startPosition;
    return startPosition;
}
function setStartPosition(startPosition) {
    this.updateState({
        startPosition: startPosition
    });
}
function touchStartHandler(event, element) {
    this.startHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseDownHandler(event, element) {
    this.startHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function touchMoveHandler(event, element) {
    this.moveHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseMoveHandler(event, element) {
    this.moveHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function touchEndHandler(event, element) {
    this.endHandler(event, element, function(event) {
        var touchEvent = event, position = _position.default.fromTouchEvent(touchEvent);
        return position;
    });
}
function mouseUpHandler(event, element) {
    this.endHandler(event, element, function(event) {
        var mouseEvent = event, position = _position.default.fromMouseEvent(mouseEvent);
        return position;
    });
}
function startHandler(event, element, positionFromEvent) {
    var position = positionFromEvent(event), startPosition = position; ///
    this.setStartPosition(startPosition);
}
function moveHandler(event, element, positionFromEvent) {
    var startPosition = this.getStartPosition();
    if (startPosition !== null) {
        var position = positionFromEvent(event);
        if (position !== null) {
            var positionMatchesStartPosition = position.match(startPosition);
            if (positionMatchesStartPosition) {
                var relativePosition = _relative.default.fromPositionAndStartPosition(position, startPosition), direction = relativePosition.getDirection();
                var customEventType = null;
                if (Math.abs(direction) < _constants.MAXIMUM_DRAG_RANGE) {
                    customEventType = _customEventTypes.DRAG_RIGHT_CUSTOM_EVENT_TYPE;
                }
                if (Math.abs(_constants.PI_OVER_TWO - direction) < _constants.MAXIMUM_DRAG_RANGE) {
                    customEventType = _customEventTypes.DRAG_UP_CUSTOM_EVENT_TYPE;
                }
                if (Math.abs(-_constants.PI_OVER_TWO - direction) < _constants.MAXIMUM_DRAG_RANGE) {
                    customEventType = _customEventTypes.DRAG_DOWN_CUSTOM_EVENT_TYPE;
                }
                if (_constants.PI - Math.abs(direction) < _constants.MAXIMUM_DRAG_RANGE) {
                    customEventType = _customEventTypes.DRAG_LEFT_CUSTOM_EVENT_TYPE;
                }
                if (customEventType !== null) {
                    this.callCustomHandlers(customEventType, event, element);
                }
            }
        }
    }
}
function endHandler(event, element, positionFromEvent) {
    var startPosition;
    startPosition = this.getStartPosition();
    if (startPosition !== null) {
        var position = positionFromEvent(event);
        if (position !== null) {
            var positionMatchesStartPosition = position.match(startPosition);
            if (positionMatchesStartPosition) {
                var relativePosition = _relative.default.fromPositionAndStartPosition(position, startPosition), direction = relativePosition.getDirection(), speed = relativePosition.getSpeed(), time = relativePosition.getTime();
                var customEventType = null, projectedVelocity;
                if (speed === 0) {
                    if (time < _constants.MAXIMUM_TAP_TIME) {
                        customEventType = _customEventTypes.TAP_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed; ///
                    }
                } else if (speed > _constants.MINIMUM_SWIPE_SPEED) {
                    if (Math.abs(direction) < _constants.MAXIMUM_SWIPE_RANGE) {
                        customEventType = _customEventTypes.SWIPE_RIGHT_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.cos(direction);
                    }
                    if (Math.abs(_constants.PI_OVER_TWO - direction) < _constants.MAXIMUM_SWIPE_RANGE) {
                        customEventType = _customEventTypes.SWIPE_UP_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.sin(direction);
                    }
                    if (Math.abs(-_constants.PI_OVER_TWO - direction) < _constants.MAXIMUM_SWIPE_RANGE) {
                        customEventType = _customEventTypes.SWIPE_DOWN_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.sin(direction);
                    }
                    if (_constants.PI - Math.abs(direction) < _constants.MAXIMUM_SWIPE_RANGE) {
                        customEventType = _customEventTypes.SWIPE_LEFT_CUSTOM_EVENT_TYPE;
                        projectedVelocity = speed * Math.cos(direction);
                    }
                }
                if (customEventType !== null) {
                    this.callCustomHandlers(customEventType, event, element, projectedVelocity);
                }
            }
        }
    }
    startPosition = null;
    this.setStartPosition(startPosition);
}
var touchMixins = {
    enableTouch: enableTouch,
    disableTouch: disableTouch,
    onCustomTap: onCustomTap,
    offCustomTap: offCustomTap,
    onCustomSwipeUp: onCustomSwipeUp,
    offCustomSwipeUp: offCustomSwipeUp,
    onCustomSwipeDown: onCustomSwipeDown,
    offCustomSwipeDown: offCustomSwipeDown,
    onCustomSwipeLeft: onCustomSwipeLeft,
    offCustomSwipeLeft: offCustomSwipeLeft,
    onCustomSwipeRight: onCustomSwipeRight,
    offCustomSwipeRight: offCustomSwipeRight,
    getStartPosition: getStartPosition,
    setStartPosition: setStartPosition,
    touchStartHandler: touchStartHandler,
    mouseDownHandler: mouseDownHandler,
    touchMoveHandler: touchMoveHandler,
    mouseMoveHandler: mouseMoveHandler,
    touchEndHandler: touchEndHandler,
    mouseUpHandler: mouseUpHandler,
    startHandler: startHandler,
    moveHandler: moveHandler,
    endHandler: endHandler
};
var _default = touchMixins;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvdG91Y2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IHdpbmRvdyB9IGZyb20gXCJlYXN5XCI7XG5cbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vcG9zaXRpb25cIjtcbmltcG9ydCBSZWxhdGl2ZVBvc2l0aW9uIGZyb20gXCIuLi9wb3NpdGlvbi9yZWxhdGl2ZVwiO1xuXG5pbXBvcnQgeyBQSSwgUElfT1ZFUl9UV08sIE1BWElNVU1fVEFQX1RJTUUsIE1JTklNVU1fU1dJUEVfU1BFRUQsIE1BWElNVU1fRFJBR19SQU5HRSwgTUFYSU1VTV9TV0lQRV9SQU5HRSB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFRBUF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgIERSQUdfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgICBTV0lQRV9VUF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgIERSQUdfRE9XTl9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgIFNXSVBFX0RPV05fQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgICBEUkFHX0xFRlRfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgICBTV0lQRV9MRUZUX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICAgRFJBR19SSUdIVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgIFNXSVBFX1JJR0hUX0NVU1RPTV9FVkVOVF9UWVBFIH0gZnJvbSBcIi4uL2N1c3RvbUV2ZW50VHlwZXNcIjtcblxuZnVuY3Rpb24gZW5hYmxlVG91Y2goKSB7XG4gIGNvbnN0IHN0YXJ0UG9zaXRpb24gPSBudWxsO1xuXG4gIHRoaXMudXBkYXRlU3RhdGUoe1xuICAgIHN0YXJ0UG9zaXRpb25cbiAgfSk7XG5cbiAgdGhpcy5vbk1vdXNlRG93bih0aGlzLm1vdXNlRG93bkhhbmRsZXIpO1xuICB0aGlzLm9uTW91c2VNb3ZlKHRoaXMubW91c2VNb3ZlSGFuZGxlcik7XG5cbiAgd2luZG93Lm9uTW91c2VVcCh0aGlzLm1vdXNlVXBIYW5kbGVyLCB0aGlzKTtcblxuICB0aGlzLm9uVG91Y2hTdGFydCh0aGlzLnRvdWNoU3RhcnRIYW5kbGVyKTtcbiAgdGhpcy5vblRvdWNoTW92ZSh0aGlzLnRvdWNoTW92ZUhhbmRsZXIpO1xuICB0aGlzLm9uVG91Y2hFbmQodGhpcy50b3VjaEVuZEhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlVG91Y2goKSB7XG4gIHRoaXMub2ZmTW91c2VEb3duKHRoaXMubW91c2VEb3duSGFuZGxlcik7XG4gIHRoaXMub2ZmTW91c2VNb3ZlKHRoaXMubW91c2VNb3ZlSGFuZGxlcik7XG5cbiAgd2luZG93Lm9mZk1vdXNlVXAodGhpcy5tb3VzZVVwSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vZmZUb3VjaFN0YXJ0KHRoaXMudG91Y2hTdGFydEhhbmRsZXIpO1xuICB0aGlzLm9mZlRvdWNoTW92ZSh0aGlzLnRvdWNoTW92ZUhhbmRsZXIpO1xuICB0aGlzLm9mZlRvdWNoRW5kKHRoaXMudG91Y2hFbmRIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21UYXAodGFwQ3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBUQVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSB0YXBDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tVGFwKHRhcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gVEFQX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gdGFwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vZmZDdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvbkN1c3RvbVN3aXBlVXAoc3dpcGVVcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZVVwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbVN3aXBlVXAoc3dpcGVVcEN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfVVBfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZVVwQ3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vZmZDdXN0b21FdmVudChjdXN0b21FdmVudFR5cGUsIGN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBvbkN1c3RvbVN3aXBlRG93bihzd2lwZURvd25DdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IFNXSVBFX0RPV05fQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZURvd25DdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tU3dpcGVEb3duKHN3aXBlRG93bkN1c3RvbUhhbmRsZXIsIGVsZW1lbnQpIHtcbiAgY29uc3QgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfRE9XTl9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlRG93bkN1c3RvbUhhbmRsZXI7IC8vL1xuXG4gIHRoaXMub2ZmQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb25DdXN0b21Td2lwZUxlZnQoc3dpcGVMZWZ0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9MRUZUX0NVU1RPTV9FVkVOVF9UWVBFLFxuICAgICAgICBjdXN0b21IYW5kbGVyID0gc3dpcGVMZWZ0Q3VzdG9tSGFuZGxlcjsgLy8vXG5cbiAgdGhpcy5vbkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9mZkN1c3RvbVN3aXBlTGVmdChzd2lwZUxlZnRDdXN0b21IYW5kbGVyLCBlbGVtZW50KSB7XG4gIGNvbnN0IGN1c3RvbUV2ZW50VHlwZSA9IFNXSVBFX0xFRlRfQ1VTVE9NX0VWRU5UX1RZUEUsXG4gICAgICAgIGN1c3RvbUhhbmRsZXIgPSBzd2lwZUxlZnRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIG9uQ3VzdG9tU3dpcGVSaWdodChzd2lwZVJpZ2h0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9SSUdIVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlUmlnaHRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9uQ3VzdG9tRXZlbnQoY3VzdG9tRXZlbnRUeXBlLCBjdXN0b21IYW5kbGVyLCBlbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gb2ZmQ3VzdG9tU3dpcGVSaWdodChzd2lwZVJpZ2h0Q3VzdG9tSGFuZGxlciwgZWxlbWVudCkge1xuICBjb25zdCBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9SSUdIVF9DVVNUT01fRVZFTlRfVFlQRSxcbiAgICAgICAgY3VzdG9tSGFuZGxlciA9IHN3aXBlUmlnaHRDdXN0b21IYW5kbGVyOyAvLy9cblxuICB0aGlzLm9mZkN1c3RvbUV2ZW50KGN1c3RvbUV2ZW50VHlwZSwgY3VzdG9tSGFuZGxlciwgZWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGdldFN0YXJ0UG9zaXRpb24oKSB7XG4gIGNvbnN0IHsgc3RhcnRQb3NpdGlvbiB9ID0gdGhpcy5nZXRTdGF0ZSgpO1xuXG4gIHJldHVybiBzdGFydFBvc2l0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRTdGFydFBvc2l0aW9uKHN0YXJ0UG9zaXRpb24pIHtcbiAgdGhpcy51cGRhdGVTdGF0ZSh7XG4gICAgc3RhcnRQb3NpdGlvblxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG91Y2hTdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgdGhpcy5zdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tVG91Y2hFdmVudCh0b3VjaEV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vdXNlRG93bkhhbmRsZXIoZXZlbnQsIGVsZW1lbnQpIHtcbiAgdGhpcy5zdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4geyAgLy8vXG4gICAgY29uc3QgbW91c2VFdmVudCA9IGV2ZW50LCAvLy9cbiAgICAgICAgICBwb3NpdGlvbiA9IFBvc2l0aW9uLmZyb21Nb3VzZUV2ZW50KG1vdXNlRXZlbnQpO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdG91Y2hNb3ZlSGFuZGxlcihldmVudCwgZWxlbWVudCkge1xuICB0aGlzLm1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50LCAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB0b3VjaEV2ZW50ID0gZXZlbnQsIC8vL1xuICAgICAgICAgIHBvc2l0aW9uID0gUG9zaXRpb24uZnJvbVRvdWNoRXZlbnQodG91Y2hFdmVudCk7XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIHRoaXMubW92ZUhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IG1vdXNlRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tTW91c2VFdmVudChtb3VzZUV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvdWNoRW5kSGFuZGxlcihldmVudCwgZWxlbWVudCkge1xuICB0aGlzLmVuZEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHRvdWNoRXZlbnQgPSBldmVudCwgLy8vXG4gICAgICAgICAgcG9zaXRpb24gPSBQb3NpdGlvbi5mcm9tVG91Y2hFdmVudCh0b3VjaEV2ZW50KTtcblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1vdXNlVXBIYW5kbGVyKGV2ZW50LCBlbGVtZW50KSB7XG4gIHRoaXMuZW5kSGFuZGxlcihldmVudCwgZWxlbWVudCwgKGV2ZW50KSA9PiB7ICAvLy9cbiAgICBjb25zdCBtb3VzZUV2ZW50ID0gZXZlbnQsIC8vL1xuICAgICAgICAgIHBvc2l0aW9uID0gUG9zaXRpb24uZnJvbU1vdXNlRXZlbnQobW91c2VFdmVudCk7XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzdGFydEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIHBvc2l0aW9uRnJvbUV2ZW50KSB7XG4gIGNvbnN0IHBvc2l0aW9uID0gcG9zaXRpb25Gcm9tRXZlbnQoZXZlbnQpLFxuICAgICAgICBzdGFydFBvc2l0aW9uID0gcG9zaXRpb247ICAvLy9cblxuICB0aGlzLnNldFN0YXJ0UG9zaXRpb24oc3RhcnRQb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIG1vdmVIYW5kbGVyKGV2ZW50LCBlbGVtZW50LCBwb3NpdGlvbkZyb21FdmVudCkge1xuICBsZXQgc3RhcnRQb3NpdGlvbiA9IHRoaXMuZ2V0U3RhcnRQb3NpdGlvbigpO1xuXG4gIGlmIChzdGFydFBvc2l0aW9uICE9PSBudWxsKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbkZyb21FdmVudChldmVudCk7XG5cbiAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24gPSBwb3NpdGlvbi5tYXRjaChzdGFydFBvc2l0aW9uKTtcblxuICAgICAgaWYgKHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQb3NpdGlvbiA9IFJlbGF0aXZlUG9zaXRpb24uZnJvbVBvc2l0aW9uQW5kU3RhcnRQb3NpdGlvbihwb3NpdGlvbiwgc3RhcnRQb3NpdGlvbiksXG4gICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHJlbGF0aXZlUG9zaXRpb24uZ2V0RGlyZWN0aW9uKCk7XG5cbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50VHlwZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKChNYXRoLmFicyhkaXJlY3Rpb24pKSA8IE1BWElNVU1fRFJBR19SQU5HRSkge1xuICAgICAgICAgIGN1c3RvbUV2ZW50VHlwZSA9IERSQUdfUklHSFRfQ1VTVE9NX0VWRU5UX1RZUEU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnMoUElfT1ZFUl9UV08gLSBkaXJlY3Rpb24pIDwgTUFYSU1VTV9EUkFHX1JBTkdFKSB7XG4gICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19VUF9DVVNUT01fRVZFTlRfVFlQRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicygtUElfT1ZFUl9UV08gLSBkaXJlY3Rpb24pIDwgTUFYSU1VTV9EUkFHX1JBTkdFKSB7XG4gICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19ET1dOX0NVU1RPTV9FVkVOVF9UWVBFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChQSSAtIE1hdGguYWJzKGRpcmVjdGlvbikpIDwgTUFYSU1VTV9EUkFHX1JBTkdFKSB7XG4gICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gRFJBR19MRUZUX0NVU1RPTV9FVkVOVF9UWVBFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1c3RvbUV2ZW50VHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuY2FsbEN1c3RvbUhhbmRsZXJzKGN1c3RvbUV2ZW50VHlwZSwgZXZlbnQsIGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGVuZEhhbmRsZXIoZXZlbnQsIGVsZW1lbnQsIHBvc2l0aW9uRnJvbUV2ZW50KSB7XG4gIGxldCBzdGFydFBvc2l0aW9uO1xuXG4gIHN0YXJ0UG9zaXRpb24gPSB0aGlzLmdldFN0YXJ0UG9zaXRpb24oKTtcblxuICBpZiAoc3RhcnRQb3NpdGlvbiAhPT0gbnVsbCkge1xuXG4gICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbkZyb21FdmVudChldmVudCk7XG5cbiAgICBpZiAocG9zaXRpb24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24gPSBwb3NpdGlvbi5tYXRjaChzdGFydFBvc2l0aW9uKTtcblxuICAgICAgaWYgKHBvc2l0aW9uTWF0Y2hlc1N0YXJ0UG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQb3NpdGlvbiA9IFJlbGF0aXZlUG9zaXRpb24uZnJvbVBvc2l0aW9uQW5kU3RhcnRQb3NpdGlvbihwb3NpdGlvbiwgc3RhcnRQb3NpdGlvbiksXG4gICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHJlbGF0aXZlUG9zaXRpb24uZ2V0RGlyZWN0aW9uKCksXG4gICAgICAgICAgICAgIHNwZWVkID0gcmVsYXRpdmVQb3NpdGlvbi5nZXRTcGVlZCgpLFxuICAgICAgICAgICAgICB0aW1lID0gcmVsYXRpdmVQb3NpdGlvbi5nZXRUaW1lKCk7XG5cbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50VHlwZSA9IG51bGwsXG4gICAgICAgICAgICBwcm9qZWN0ZWRWZWxvY2l0eTtcblxuICAgICAgICBpZiAoc3BlZWQgPT09IDApIHtcbiAgICAgICAgICBpZiAodGltZSA8IE1BWElNVU1fVEFQX1RJTUUpIHtcbiAgICAgICAgICAgIGN1c3RvbUV2ZW50VHlwZSA9IFRBUF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZDsgIC8vL1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzcGVlZCA+IE1JTklNVU1fU1dJUEVfU1BFRUQpIHtcbiAgICAgICAgICBpZiAoKE1hdGguYWJzKGRpcmVjdGlvbikpIDwgTUFYSU1VTV9TV0lQRV9SQU5HRSkge1xuICAgICAgICAgICAgY3VzdG9tRXZlbnRUeXBlID0gU1dJUEVfUklHSFRfQ1VTVE9NX0VWRU5UX1RZUEU7XG5cbiAgICAgICAgICAgIHByb2plY3RlZFZlbG9jaXR5ID0gc3BlZWQgKiBNYXRoLmNvcyhkaXJlY3Rpb24pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChNYXRoLmFicyhQSV9PVkVSX1RXTyAtIGRpcmVjdGlvbikgPCBNQVhJTVVNX1NXSVBFX1JBTkdFKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9VUF9DVVNUT01fRVZFTlRfVFlQRTtcblxuICAgICAgICAgICAgcHJvamVjdGVkVmVsb2NpdHkgPSBzcGVlZCAqIE1hdGguc2luKGRpcmVjdGlvbik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKC1QSV9PVkVSX1RXTyAtIGRpcmVjdGlvbikgPCBNQVhJTVVNX1NXSVBFX1JBTkdFKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9ET1dOX0NVU1RPTV9FVkVOVF9UWVBFO1xuXG4gICAgICAgICAgICBwcm9qZWN0ZWRWZWxvY2l0eSA9IHNwZWVkICogTWF0aC5zaW4oZGlyZWN0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoKFBJIC0gTWF0aC5hYnMoZGlyZWN0aW9uKSkgPCBNQVhJTVVNX1NXSVBFX1JBTkdFKSB7XG4gICAgICAgICAgICBjdXN0b21FdmVudFR5cGUgPSBTV0lQRV9MRUZUX0NVU1RPTV9FVkVOVF9UWVBFO1xuXG4gICAgICAgICAgICBwcm9qZWN0ZWRWZWxvY2l0eSA9IHNwZWVkICogTWF0aC5jb3MoZGlyZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VzdG9tRXZlbnRUeXBlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5jYWxsQ3VzdG9tSGFuZGxlcnMoY3VzdG9tRXZlbnRUeXBlLCBldmVudCwgZWxlbWVudCwgcHJvamVjdGVkVmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhcnRQb3NpdGlvbiA9IG51bGw7XG5cbiAgdGhpcy5zZXRTdGFydFBvc2l0aW9uKHN0YXJ0UG9zaXRpb24pO1xufVxuXG5jb25zdCB0b3VjaE1peGlucyA9IHtcbiAgZW5hYmxlVG91Y2gsXG4gIGRpc2FibGVUb3VjaCxcbiAgb25DdXN0b21UYXAsXG4gIG9mZkN1c3RvbVRhcCxcbiAgb25DdXN0b21Td2lwZVVwLFxuICBvZmZDdXN0b21Td2lwZVVwLFxuICBvbkN1c3RvbVN3aXBlRG93bixcbiAgb2ZmQ3VzdG9tU3dpcGVEb3duLFxuICBvbkN1c3RvbVN3aXBlTGVmdCxcbiAgb2ZmQ3VzdG9tU3dpcGVMZWZ0LFxuICBvbkN1c3RvbVN3aXBlUmlnaHQsXG4gIG9mZkN1c3RvbVN3aXBlUmlnaHQsXG4gIGdldFN0YXJ0UG9zaXRpb24sXG4gIHNldFN0YXJ0UG9zaXRpb24sXG4gIHRvdWNoU3RhcnRIYW5kbGVyLFxuICBtb3VzZURvd25IYW5kbGVyLFxuICB0b3VjaE1vdmVIYW5kbGVyLFxuICBtb3VzZU1vdmVIYW5kbGVyLFxuICB0b3VjaEVuZEhhbmRsZXIsXG4gIG1vdXNlVXBIYW5kbGVyLFxuICBzdGFydEhhbmRsZXIsXG4gIG1vdmVIYW5kbGVyLFxuICBlbmRIYW5kbGVyXG59O1xuXG5leHBvcnQgZGVmYXVsdCB0b3VjaE1peGlucztcbiJdLCJuYW1lcyI6WyJlbmFibGVUb3VjaCIsInN0YXJ0UG9zaXRpb24iLCJ1cGRhdGVTdGF0ZSIsIm9uTW91c2VEb3duIiwibW91c2VEb3duSGFuZGxlciIsIm9uTW91c2VNb3ZlIiwibW91c2VNb3ZlSGFuZGxlciIsIndpbmRvdyIsIm9uTW91c2VVcCIsIm1vdXNlVXBIYW5kbGVyIiwib25Ub3VjaFN0YXJ0IiwidG91Y2hTdGFydEhhbmRsZXIiLCJvblRvdWNoTW92ZSIsInRvdWNoTW92ZUhhbmRsZXIiLCJvblRvdWNoRW5kIiwidG91Y2hFbmRIYW5kbGVyIiwiZGlzYWJsZVRvdWNoIiwib2ZmTW91c2VEb3duIiwib2ZmTW91c2VNb3ZlIiwib2ZmTW91c2VVcCIsIm9mZlRvdWNoU3RhcnQiLCJvZmZUb3VjaE1vdmUiLCJvZmZUb3VjaEVuZCIsIm9uQ3VzdG9tVGFwIiwidGFwQ3VzdG9tSGFuZGxlciIsImVsZW1lbnQiLCJjdXN0b21FdmVudFR5cGUiLCJUQVBfQ1VTVE9NX0VWRU5UX1RZUEUiLCJjdXN0b21IYW5kbGVyIiwib25DdXN0b21FdmVudCIsIm9mZkN1c3RvbVRhcCIsIm9mZkN1c3RvbUV2ZW50Iiwib25DdXN0b21Td2lwZVVwIiwic3dpcGVVcEN1c3RvbUhhbmRsZXIiLCJTV0lQRV9VUF9DVVNUT01fRVZFTlRfVFlQRSIsIm9mZkN1c3RvbVN3aXBlVXAiLCJvbkN1c3RvbVN3aXBlRG93biIsInN3aXBlRG93bkN1c3RvbUhhbmRsZXIiLCJTV0lQRV9ET1dOX0NVU1RPTV9FVkVOVF9UWVBFIiwib2ZmQ3VzdG9tU3dpcGVEb3duIiwib25DdXN0b21Td2lwZUxlZnQiLCJzd2lwZUxlZnRDdXN0b21IYW5kbGVyIiwiU1dJUEVfTEVGVF9DVVNUT01fRVZFTlRfVFlQRSIsIm9mZkN1c3RvbVN3aXBlTGVmdCIsIm9uQ3VzdG9tU3dpcGVSaWdodCIsInN3aXBlUmlnaHRDdXN0b21IYW5kbGVyIiwiU1dJUEVfUklHSFRfQ1VTVE9NX0VWRU5UX1RZUEUiLCJvZmZDdXN0b21Td2lwZVJpZ2h0IiwiZ2V0U3RhcnRQb3NpdGlvbiIsImdldFN0YXRlIiwic2V0U3RhcnRQb3NpdGlvbiIsImV2ZW50Iiwic3RhcnRIYW5kbGVyIiwidG91Y2hFdmVudCIsInBvc2l0aW9uIiwiUG9zaXRpb24iLCJmcm9tVG91Y2hFdmVudCIsIm1vdXNlRXZlbnQiLCJmcm9tTW91c2VFdmVudCIsIm1vdmVIYW5kbGVyIiwiZW5kSGFuZGxlciIsInBvc2l0aW9uRnJvbUV2ZW50IiwicG9zaXRpb25NYXRjaGVzU3RhcnRQb3NpdGlvbiIsIm1hdGNoIiwicmVsYXRpdmVQb3NpdGlvbiIsIlJlbGF0aXZlUG9zaXRpb24iLCJmcm9tUG9zaXRpb25BbmRTdGFydFBvc2l0aW9uIiwiZGlyZWN0aW9uIiwiZ2V0RGlyZWN0aW9uIiwiTWF0aCIsImFicyIsIk1BWElNVU1fRFJBR19SQU5HRSIsIkRSQUdfUklHSFRfQ1VTVE9NX0VWRU5UX1RZUEUiLCJQSV9PVkVSX1RXTyIsIkRSQUdfVVBfQ1VTVE9NX0VWRU5UX1RZUEUiLCJEUkFHX0RPV05fQ1VTVE9NX0VWRU5UX1RZUEUiLCJQSSIsIkRSQUdfTEVGVF9DVVNUT01fRVZFTlRfVFlQRSIsImNhbGxDdXN0b21IYW5kbGVycyIsInNwZWVkIiwiZ2V0U3BlZWQiLCJ0aW1lIiwiZ2V0VGltZSIsInByb2plY3RlZFZlbG9jaXR5IiwiTUFYSU1VTV9UQVBfVElNRSIsIk1JTklNVU1fU1dJUEVfU1BFRUQiLCJNQVhJTVVNX1NXSVBFX1JBTkdFIiwiY29zIiwic2luIiwidG91Y2hNaXhpbnMiXSwicmFuZ2VNYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7IiwibWFwcGluZ3MiOiJBQUFBOzs7OytCQStUQTs7O2VBQUE7OztvQkE3VHVCOytEQUVGOytEQUNRO3lCQUVtRjtnQ0FTbEU7Ozs7OztBQUU5QyxTQUFTQTtJQUNQLElBQU1DLGdCQUFnQjtJQUV0QixJQUFJLENBQUNDLFdBQVcsQ0FBQztRQUNmRCxlQUFBQTtJQUNGO0lBRUEsSUFBSSxDQUFDRSxXQUFXLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0I7SUFDdEMsSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0I7SUFFdENDLFlBQU0sQ0FBQ0MsU0FBUyxDQUFDLElBQUksQ0FBQ0MsY0FBYyxFQUFFLElBQUk7SUFFMUMsSUFBSSxDQUFDQyxZQUFZLENBQUMsSUFBSSxDQUFDQyxpQkFBaUI7SUFDeEMsSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxnQkFBZ0I7SUFDdEMsSUFBSSxDQUFDQyxVQUFVLENBQUMsSUFBSSxDQUFDQyxlQUFlO0FBQ3RDO0FBRUEsU0FBU0M7SUFDUCxJQUFJLENBQUNDLFlBQVksQ0FBQyxJQUFJLENBQUNiLGdCQUFnQjtJQUN2QyxJQUFJLENBQUNjLFlBQVksQ0FBQyxJQUFJLENBQUNaLGdCQUFn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