"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
var _livelycli = require("lively-cli");
var _necessary = require("necessary");
var _directory = require("./utilities/directory");
var _constants = require("./constants");
var readFile = _necessary.fileSystemUtilities.readFile, parseFile = _necessary.templateUtilities.parseFile, concatenatePaths = _necessary.pathUtilities.concatenatePaths;
function createIndexHTML(markdownHTML, markdownStylesCSS, client) {
    var sourceDirectoryPath = (0, _directory.getSourceDirectoryPath)(), indexTemplateFilePath = concatenatePaths(sourceDirectoryPath, _constants.INDEX_TEMPLATE_FILE_PATH), args = {
        markdownHTML: markdownHTML,
        markdownStylesCSS: markdownStylesCSS,
        liveReloadSnippet: _livelycli.liveReloadSnippet,
        computerModernStyleCSS: computerModernStyleCSS
    };
    if (client) {
        var clientHTML = createClientHTML(sourceDirectoryPath), loadingCSS = createLoadingCSS(sourceDirectoryPath), loadingHTML = createLoadingHTML(sourceDirectoryPath);
        Object.assign(args, {
            clientHTML: clientHTML,
            loadingCSS: loadingCSS,
            loadingHTML: loadingHTML
        });
    }
    var indexHTML = parseFile(indexTemplateFilePath, args);
    return indexHTML;
}
module.exports = createIndexHTML;
function createClientHTML(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, _constants.CLIENT_TEMPLATE_FILE_PATH), content = parseFile(filePath), clientHTML = content; ///
    return clientHTML;
}
function createLoadingCSS(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, _constants.LOADING_CSS_FILE_PATH), content = readFile(filePath), loadingCSS = content; ///
    return loadingCSS;
}
function createLoadingHTML(sourceDirectoryPath) {
    var filePath = concatenatePaths(sourceDirectoryPath, _constants.LOADING_TEMPLATE_FILE_PATH), content = readFile(filePath), loadingHTML = content; ///
    return loadingHTML;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvaHRtbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgbGl2ZVJlbG9hZFNuaXBwZXQgfSBmcm9tIFwibGl2ZWx5LWNsaVwiO1xuaW1wb3J0IHsgcGF0aFV0aWxpdGllcywgdGVtcGxhdGVVdGlsaXRpZXMsIGZpbGVTeXN0ZW1VdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IGdldFNvdXJjZURpcmVjdG9yeVBhdGggfSBmcm9tIFwiLi91dGlsaXRpZXMvZGlyZWN0b3J5XCI7XG5pbXBvcnQgeyBMT0FESU5HX0NTU19GSUxFX1BBVEgsIENMSUVOVF9URU1QTEFURV9GSUxFX1BBVEgsIExPQURJTkdfVEVNUExBVEVfRklMRV9QQVRILCBJTkRFWF9URU1QTEFURV9GSUxFX1BBVEggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuY29uc3QgeyByZWFkRmlsZSB9ID0gZmlsZVN5c3RlbVV0aWxpdGllcyxcbiAgICAgIHsgcGFyc2VGaWxlIH0gPSB0ZW1wbGF0ZVV0aWxpdGllcyxcbiAgICAgIHsgY29uY2F0ZW5hdGVQYXRocyB9ID0gcGF0aFV0aWxpdGllcztcblxuZnVuY3Rpb24gY3JlYXRlSW5kZXhIVE1MKG1hcmtkb3duSFRNTCwgbWFya2Rvd25TdHlsZXNDU1MsIGNsaWVudCkge1xuICBjb25zdCBzb3VyY2VEaXJlY3RvcnlQYXRoID0gZ2V0U291cmNlRGlyZWN0b3J5UGF0aCgpLFxuICAgICAgICBpbmRleFRlbXBsYXRlRmlsZVBhdGggPSBjb25jYXRlbmF0ZVBhdGhzKHNvdXJjZURpcmVjdG9yeVBhdGgsIElOREVYX1RFTVBMQVRFX0ZJTEVfUEFUSCksXG4gICAgICAgIGFyZ3MgPSB7XG4gICAgICAgICAgbWFya2Rvd25IVE1MLFxuICAgICAgICAgIG1hcmtkb3duU3R5bGVzQ1NTLFxuICAgICAgICAgIGxpdmVSZWxvYWRTbmlwcGV0LFxuICAgICAgICAgIGNvbXB1dGVyTW9kZXJuU3R5bGVDU1NcbiAgICAgICAgfTtcblxuICBpZiAoY2xpZW50KSB7XG4gICAgY29uc3QgY2xpZW50SFRNTCA9IGNyZWF0ZUNsaWVudEhUTUwoc291cmNlRGlyZWN0b3J5UGF0aCksXG4gICAgICAgICAgbG9hZGluZ0NTUyA9IGNyZWF0ZUxvYWRpbmdDU1Moc291cmNlRGlyZWN0b3J5UGF0aCksXG4gICAgICAgICAgbG9hZGluZ0hUTUwgPSBjcmVhdGVMb2FkaW5nSFRNTChzb3VyY2VEaXJlY3RvcnlQYXRoKTtcblxuICAgIE9iamVjdC5hc3NpZ24oYXJncywge1xuICAgICAgY2xpZW50SFRNTCxcbiAgICAgIGxvYWRpbmdDU1MsXG4gICAgICBsb2FkaW5nSFRNTFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgaW5kZXhIVE1MID0gcGFyc2VGaWxlKGluZGV4VGVtcGxhdGVGaWxlUGF0aCwgYXJncyk7XG5cbiAgcmV0dXJuIGluZGV4SFRNTDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVJbmRleEhUTUw7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudEhUTUwoc291cmNlRGlyZWN0b3J5UGF0aCkge1xuICBjb25zdCBmaWxlUGF0aCA9IGNvbmNhdGVuYXRlUGF0aHMoc291cmNlRGlyZWN0b3J5UGF0aCwgQ0xJRU5UX1RFTVBMQVRFX0ZJTEVfUEFUSCksXG4gICAgICAgIGNvbnRlbnQgPSBwYXJzZUZpbGUoZmlsZVBhdGgpLFxuICAgICAgICBjbGllbnRIVE1MID0gY29udGVudDsgLy8vXG5cbiAgcmV0dXJuIGNsaWVudEhUTUw7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvYWRpbmdDU1Moc291cmNlRGlyZWN0b3J5UGF0aCkge1xuICBjb25zdCBmaWxlUGF0aCA9IGNvbmNhdGVuYXRlUGF0aHMoc291cmNlRGlyZWN0b3J5UGF0aCwgTE9BRElOR19DU1NfRklMRV9QQVRIKSxcbiAgICAgICAgY29udGVudCA9IHJlYWRGaWxlKGZpbGVQYXRoKSxcbiAgICAgICAgbG9hZGluZ0NTUyA9IGNvbnRlbnQ7IC8vL1xuXG4gIHJldHVybiBsb2FkaW5nQ1NTO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2FkaW5nSFRNTChzb3VyY2VEaXJlY3RvcnlQYXRoKSB7XG4gIGNvbnN0IGZpbGVQYXRoID0gY29uY2F0ZW5hdGVQYXRocyhzb3VyY2VEaXJlY3RvcnlQYXRoLCBMT0FESU5HX1RFTVBMQVRFX0ZJTEVfUEFUSCksXG4gICAgICAgIGNvbnRlbnQgPSByZWFkRmlsZShmaWxlUGF0aCksXG4gICAgICAgIGxvYWRpbmdIVE1MID0gY29udGVudDsgLy8vXG5cbiAgcmV0dXJuIGxvYWRpbmdIVE1MO1xufVxuIl0sIm5hbWVzIjpbInJlYWRGaWxlIiwiZmlsZVN5c3RlbVV0aWxpdGllcyIsInBhcnNlRmlsZSIsInRlbXBsYXRlVXRpbGl0aWVzIiwiY29uY2F0ZW5hdGVQYXRocyIsInBhdGhVdGlsaXRpZXMiLCJjcmVhdGVJbmRleEhUTUwiLCJtYXJrZG93bkhUTUwiLCJtYXJrZG93blN0eWxlc0NTUyIsImNsaWVudCIsInNvdXJjZURpcmVjdG9yeVBhdGgiLCJnZXRTb3VyY2VEaXJlY3RvcnlQYXRoIiwiaW5kZXhUZW1wbGF0ZUZpbGVQYXRoIiwiSU5ERVhfVEVNUExBVEVfRklMRV9QQVRIIiwiYXJncyIsImxpdmVSZWxvYWRTbmlwcGV0IiwiY29tcHV0ZXJNb2Rlcm5TdHlsZUNTUyIsImNsaWVudEhUTUwiLCJjcmVhdGVDbGllbnRIVE1MIiwibG9hZGluZ0NTUyIsImNyZWF0ZUxvYWRpbmdDU1MiLCJsb2FkaW5nSFRNTCIsImNyZWF0ZUxvYWRpbmdIVE1MIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5kZXhIVE1MIiwibW9kdWxlIiwiZXhwb3J0cyIsImZpbGVQYXRoIiwiQ0xJRU5UX1RFTVBMQVRFX0ZJTEVfUEFUSCIsImNvbnRlbnQiLCJMT0FESU5HX0NTU19GSUxFX1BBVEgiLCJMT0FESU5HX1RFTVBMQVRFX0ZJTEVfUEFUSCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7eUJBRWtDO3lCQUNvQzt5QkFFL0I7eUJBQ2dGO0FBRXZILElBQU0sQUFBRUEsV0FBYUMsOEJBQW1CLENBQWhDRCxVQUNGLEFBQUVFLFlBQWNDLDRCQUFpQixDQUEvQkQsV0FDRixBQUFFRSxtQkFBcUJDLHdCQUFhLENBQWxDRDtBQUVSLFNBQVNFLGdCQUFnQkMsWUFBWSxFQUFFQyxpQkFBaUIsRUFBRUMsTUFBTTtJQUM5RCxJQUFNQyxzQkFBc0JDLElBQUFBLGlDQUFzQixLQUM1Q0Msd0JBQXdCUixpQkFBaUJNLHFCQUFxQkcsbUNBQXdCLEdBQ3RGQyxPQUFPO1FBQ0xQLGNBQUFBO1FBQ0FDLG1CQUFBQTtRQUNBTyxtQkFBQUEsNEJBQWlCO1FBQ2pCQyx3QkFBQUE7SUFDRjtJQUVOLElBQUlQLFFBQVE7UUFDVixJQUFNUSxhQUFhQyxpQkFBaUJSLHNCQUM5QlMsYUFBYUMsaUJBQWlCVixzQkFDOUJXLGNBQWNDLGtCQUFrQlo7UUFFdENhLE9BQU9DLE1BQU0sQ0FBQ1YsTUFBTTtZQUNsQkcsWUFBQUE7WUFDQUUsWUFBQUE7WUFDQUUsYUFBQUE7UUFDRjtJQUNGO0lBRUEsSUFBTUksWUFBWXZCLFVBQVVVLHVCQUF1QkU7SUFFbkQsT0FBT1c7QUFDVDtBQUVBQyxPQUFPQyxPQUFPLEdBQUdyQjtBQUVqQixTQUFTWSxpQkFBaUJSLG1CQUFtQjtJQUMzQyxJQUFNa0IsV0FBV3hCLGlCQUFpQk0scUJBQXFCbUIsb0NBQXlCLEdBQzFFQyxVQUFVNUIsVUFBVTBCLFdBQ3BCWCxhQUFhYSxTQUFTLEdBQUc7SUFFL0IsT0FBT2I7QUFDVDtBQUVBLFNBQVNHLGlCQUFpQlYsbUJBQW1CO0lBQzNDLElBQU1rQixXQUFXeEIsaUJBQWlCTSxxQkFBcUJxQixnQ0FBcUIsR0FDdEVELFVBQVU5QixTQUFTNEIsV0FDbkJULGFBQWFXLFNBQVMsR0FBRztJQUUvQixPQUFPWDtBQUNUO0FBRUEsU0FBU0csa0JBQWtCWixtQkFBbUI7SUFDNUMsSUFBTWtCLFdBQVd4QixpQkFBaUJNLHFCQUFxQnNCLHFDQUEwQixHQUMzRUYsVUFBVTlCLFNBQVM0QixXQUNuQlAsY0FBY1MsU0FBUyxHQUFHO0lBRWhDLE9BQU9UO0FBQ1QifQ==