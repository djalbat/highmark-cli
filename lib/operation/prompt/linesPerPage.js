"use strict";
import { shellUtilities } from "necessary";
import { validateLinesPerPage } from "../../utilities/validate";
import { EMPTY_STRING } from "../../constants";
import { DEFAULT_LINES_PER_PAGE } from "../../defaults";
import { LINES_PER_PAGE_DESCRIPTION } from "../../descriptions";
import { INVALID_LINES_PER_PAGE_MESSAGE } from "../../messages";
var prompt = shellUtilities.prompt;
export default function linesPerPagePromptOperation(proceed, abort, context) {
    var linesPerPage = context.linesPerPage, description = LINES_PER_PAGE_DESCRIPTION, errorMessage = INVALID_LINES_PER_PAGE_MESSAGE, initialAnswer = linesPerPage === Infinity ? EMPTY_STRING : "".concat(linesPerPage), validationFunction = validateLinesPerPage, options = {
        description: description,
        errorMessage: errorMessage,
        initialAnswer: initialAnswer,
        validationFunction: validationFunction
    };
    prompt(options, function(answer) {
        var linesPerPage = answer; ///
        var valid = linesPerPage !== null;
        if (valid) {
            linesPerPage = linesPerPage === EMPTY_STRING ? DEFAULT_LINES_PER_PAGE : Number(linesPerPage);
            Object.assign(context, {
                linesPerPage: linesPerPage
            });
            proceed();
            return;
        }
        abort();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vcGVyYXRpb24vcHJvbXB0L2xpbmVzUGVyUGFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgc2hlbGxVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IHZhbGlkYXRlTGluZXNQZXJQYWdlIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy92YWxpZGF0ZVwiO1xuaW1wb3J0IHsgRU1QVFlfU1RSSU5HIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgREVGQVVMVF9MSU5FU19QRVJfUEFHRSB9IGZyb20gXCIuLi8uLi9kZWZhdWx0c1wiO1xuaW1wb3J0IHsgTElORVNfUEVSX1BBR0VfREVTQ1JJUFRJT04gfSBmcm9tIFwiLi4vLi4vZGVzY3JpcHRpb25zXCI7XG5pbXBvcnQgeyBJTlZBTElEX0xJTkVTX1BFUl9QQUdFX01FU1NBR0UgfSBmcm9tIFwiLi4vLi4vbWVzc2FnZXNcIjtcblxuY29uc3QgeyBwcm9tcHQgfSA9IHNoZWxsVXRpbGl0aWVzO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaW5lc1BlclBhZ2VQcm9tcHRPcGVyYXRpb24ocHJvY2VlZCwgYWJvcnQsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBsaW5lc1BlclBhZ2UgfSA9IGNvbnRleHQsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gTElORVNfUEVSX1BBR0VfREVTQ1JJUFRJT04sXG4gICAgICAgIGVycm9yTWVzc2FnZSA9IElOVkFMSURfTElORVNfUEVSX1BBR0VfTUVTU0FHRSxcbiAgICAgICAgaW5pdGlhbEFuc3dlciA9IChsaW5lc1BlclBhZ2UgPT09IEluZmluaXR5KSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEVNUFRZX1NUUklORyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtsaW5lc1BlclBhZ2V9YCxcbiAgICAgICAgdmFsaWRhdGlvbkZ1bmN0aW9uID0gdmFsaWRhdGVMaW5lc1BlclBhZ2UsICAvLy9cbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgaW5pdGlhbEFuc3dlcixcbiAgICAgICAgICB2YWxpZGF0aW9uRnVuY3Rpb25cbiAgICAgICAgfTtcblxuICBwcm9tcHQob3B0aW9ucywgKGFuc3dlcikgPT4ge1xuICAgIGxldCBsaW5lc1BlclBhZ2UgPSBhbnN3ZXI7ICAvLy9cblxuICAgIGNvbnN0IHZhbGlkID0gKGxpbmVzUGVyUGFnZSAhPT0gbnVsbCk7XG5cbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIGxpbmVzUGVyUGFnZSA9IChsaW5lc1BlclBhZ2UgPT09IEVNUFRZX1NUUklORykgP1xuICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX0xJTkVTX1BFUl9QQUdFIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIobGluZXNQZXJQYWdlKTtcblxuICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7XG4gICAgICAgIGxpbmVzUGVyUGFnZVxuICAgICAgfSk7XG5cbiAgICAgIHByb2NlZWQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFib3J0KCk7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbInNoZWxsVXRpbGl0aWVzIiwidmFsaWRhdGVMaW5lc1BlclBhZ2UiLCJFTVBUWV9TVFJJTkciLCJERUZBVUxUX0xJTkVTX1BFUl9QQUdFIiwiTElORVNfUEVSX1BBR0VfREVTQ1JJUFRJT04iLCJJTlZBTElEX0xJTkVTX1BFUl9QQUdFX01FU1NBR0UiLCJwcm9tcHQiLCJsaW5lc1BlclBhZ2VQcm9tcHRPcGVyYXRpb24iLCJwcm9jZWVkIiwiYWJvcnQiLCJjb250ZXh0IiwibGluZXNQZXJQYWdlIiwiZGVzY3JpcHRpb24iLCJlcnJvck1lc3NhZ2UiLCJpbml0aWFsQW5zd2VyIiwiSW5maW5pdHkiLCJ2YWxpZGF0aW9uRnVuY3Rpb24iLCJvcHRpb25zIiwiYW5zd2VyIiwidmFsaWQiLCJOdW1iZXIiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiJBQUFBO0FBRUEsU0FBU0EsY0FBYyxRQUFRLFlBQVk7QUFFM0MsU0FBU0Msb0JBQW9CLFFBQVEsMkJBQTJCO0FBQ2hFLFNBQVNDLFlBQVksUUFBUSxrQkFBa0I7QUFDL0MsU0FBU0Msc0JBQXNCLFFBQVEsaUJBQWlCO0FBQ3hELFNBQVNDLDBCQUEwQixRQUFRLHFCQUFxQjtBQUNoRSxTQUFTQyw4QkFBOEIsUUFBUSxpQkFBaUI7QUFFaEUsSUFBTSxBQUFFQyxTQUFXTixlQUFYTTtBQUVSLGVBQWUsU0FBU0MsNEJBQTRCQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTztJQUN6RSxJQUFNLEFBQUVDLGVBQWlCRCxRQUFqQkMsY0FDRkMsY0FBY1IsNEJBQ2RTLGVBQWVSLGdDQUNmUyxnQkFBZ0IsQUFBQ0gsaUJBQWlCSSxXQUNoQmIsZUFDQyxBQUFDLEdBQWUsT0FBYlMsZUFDdEJLLHFCQUFxQmYsc0JBQ3JCZ0IsVUFBVTtRQUNSTCxhQUFBQTtRQUNBQyxjQUFBQTtRQUNBQyxlQUFBQTtRQUNBRSxvQkFBQUE7SUFDRjtJQUVOVixPQUFPVyxTQUFTLFNBQUNDO1FBQ2YsSUFBSVAsZUFBZU8sUUFBUyxHQUFHO1FBRS9CLElBQU1DLFFBQVNSLGlCQUFpQjtRQUVoQyxJQUFJUSxPQUFPO1lBQ1RSLGVBQWUsQUFBQ0EsaUJBQWlCVCxlQUNoQkMseUJBQ0VpQixPQUFPVDtZQUUxQlUsT0FBT0MsTUFBTSxDQUFDWixTQUFTO2dCQUNyQkMsY0FBQUE7WUFDRjtZQUVBSDtZQUVBO1FBQ0Y7UUFFQUM7SUFDRjtBQUNGIn0=